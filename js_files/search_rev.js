var json_data = {"positive":
  ["Great food!", "I should've known better that  Waitlist is available at many restaurants nowadays and that I should always check before I leave the house. I waited 1.5 hours for a table for 2 on Sunday night, crossing my fingers that I'd be seated before \u2026More", "Had to wait about an hour for a table, but the wait went by quickly because there's a lot of fun stuff nearby (including an axe throwing place!) Once got seated, lots of delicious choices and everything that came out of the kitchen was delectable! Definitely a repeat dining experience.", "Beef tongue was excellent. Sake was great. Old style ramen was too oily. 3.5 hours on the wait list.", "This very unassuming place in Berkeley is definitely a gem! Came in late at night and it was the only resto open at around 830pm but it didn't disappoint us! Japanese tapas as its best! Tried their special for the night which was grilled \u2026More", "I'm a huge real sushi fan. This is my first time at an Izakaya restaurant, which is basically a Japanese Tapas restaurant. This place will form a line so make sure you get there early or reserve a place for sure. The service is great and \u2026More", "Every dish is interesting, delicious and well presented!", "The food was pretty good. I was lucky I didn't have to wait for 4 hours.", "Never had a bad dish here. Everything is seriously delicious!", "Fantastic food and experience!", "Exquisite! So delicious! Those of you seeking flavorful flavors, mmmm mmmm mmmm! This place is paradise! Although, the options are quite pricey for small portions. Spent $380 dollars on food for 6 people. Some would conside that alot.", "I wanted to take my best friend out for his birthday. After searching yelp I narrowed down to this place. I had a hard time finding how to make reservations so I decided to call, I called boom reservations. \u2026More", "Didn\u2019t think I\u2019d find one of the most amazing Japanese tapas in Berkeley. Nice and cozy environment, and the food is just so delicious! It\u2019s a little spendy but nothing too crazy (around $40 per person).  Things you should try: - Beef \u2026More", "The Kiraku is a popular, simply furnished restaurant just a few steps from Ealing Common tube station. We were a big group so it took a while to get all that we ordered, but that's only to be expected. Everything was well-prepared and very \u2026More", "They don't take reservations but you can sign up on their wait list from Yelp.  Expect a very long wait. On a weekend on opening time at 5:30PM, when we checked it gave us an estimate of 7:45PM. Street parking can be challenging but doable \u2026More", "Amazing little restaurant in Berkeley. Make sure to make a reservation beforehand to avoid a long wait. \u2026More", "Must try", "Great Japanese restaurant. Small and cozy. Make sure to show up early, as the wait times are long, and reservations are restricted.", "One of the best restaurants I've eaten at in the States! Such a varied menu and everything was excellent. Be sure to make a reservation since it is always busy.", "Pretty place", "People need to stop talking about Ippudo because this place blows all the Asian cuisine I have tried around campus out of this solar system. For 2 people expect to spend around 130. Small plate Asian inspired tapas style dishes", "Unique and good food.  Solid service as well", "The $40 per person minimum to make a reservation was totally reasonable considering how insanely good the food was.", "Good taste of Japan", "Delish!", "Try the corn tempura", "Always crowded so do remember to reserve or go there before they open. A small restaurant with fresh seafood and other cuisines. There are too many great dishes so don't go there just one time!! The service is good consider how busy the restaurant always is.", "Best Japanese izakaya/tapas restaurant in Bay Area. Great dishes. Good service. Make sure to put your name down on waitlist.", "A bit pricey but Great food! \nTip1: You can register on the waiting list on yelp before coming\nTip2: it's cheaper if you pay cash", "Fresh and nice food but need to wait for a least an hour", "Cozy little restaurant. The food is of nice quality and the service is nice. Be prepared to wait in lines. I recommend the cold home-made tofu at this place.", "Come early to sign up for the wait list! (Unless you make reservations) the list fills up quick and this place isn't a large space so you could be waiting for a really long time outside. They don't take your number to call you when your \u2026More", "Great Japanese izakaya, and the best value in the east bay. Recommend the premium beef tongue!", "Best izakya in East Bay", "Best izakaya in the East Bay.", "Small restaurant, very good food. No reservations unless you're willing to spend at least $40 per person. Average wait would be 30-45mins. From what we've seen it's easy to spend that much especially with alcohol.", "Was it worth the wait? Not really. Serving sizes are super small while the prices are definitely in the higher range. The quality of ingredients was pretty good though. The dining area is also really small and cramped.  If you're hungry, go somewhere else.  If you just want to drink and hang out, come on in.", "Great food but long waiting time.", "This is a great hole in the wall place. The outside doesn't do justice to the atmosphere on the inside. It's cozy as far as room goes but it's in a great way. The food is fantastic and perfect for trying multiple new items. We had warm and \u2026More", "Amazing and fun place to go.", "Serious mix of inspired cutting-edge and obscure but amazing Japanese cuisine.  Please do not bring anyone where who likes deep fried rolls, or anything 'huge', sake bombs, etc.  This is a sophisticated restaurant with a humble dining \u2026More", "Japanese cuisine, yummy, small dishes, tenders, tiny space and always pack with customers. Nice staff, service very fast and helpful. Recommended!!!", "This place is hard to get In just as a walk in, I suggest booking a reservation. Fresh Japanese izakaya.. love this place, can't any better than this", "Absolutely delicious!!!", "We love Japanese food in tapas theme. This allows trying out many small different dishes in one sitting. And the food is delicious here.", "Unique Japanese. Not the usual sushi place.", "Great food. Great staff", "The rotated beef tougue with truffles and Sally is really really good! Chawamushi is really tender service is great!", "Thank god I find this place! Best Japanese research I've found in US, and I do not say that lightly. Amaaaaazing!", "Lovely dinner place. The waitress works there know their food! I like her recommendations. We almost ordered Sake foods but we didn't prepare to have alcohol on Sunday night. She gave us some other recommendations.", "Our favorite izakaya, hands down.  The specials change frequently and are always amazing.", "Best Japanese in town", "Great!", "Good", "As good as the Yelp reviews said", "Great quality fish!", "Exciting menu. Prepare to try lots of different things.", "Delicious food, good service, great suggestions for sake!", "one of my favorite izakayas in the east bay. make a reservation, as it gets crowded. they ask for a minimum spend but it's not that hard to get through. have always enjoyed the specials. friendly, attentive service. perfect place for a nice friday night date or if you can get in, group dinner. hint - beer fountain.", "Original and tasty, reasonable prices, nice staff", "Authentic Japanese food with sightly inattentive service.", "Nice place to take a date. Small and cozy atmosphere with attentive helpful staff.", "Excellent!", "Kiraku always impreseses. While both the wait and the price are considerable, my opinion is that Kiraku well worth it -- I've gone 4 times now and not regretted it once. \u2026More", "Came to Kiraku for a fancy birthday dinner and was not disappointed. Note that this is a kind of Japanese tapas place, and dishes are absolutely tiny. If you don't pay attention, the bill can add up very quickly. Everything I had was very \u2026More", "Beef tougue skews...yumm", "Busy place but awesome food. Excellent sake collection.", "Best Japanese tapas in the Bay Area! Food is magnificent & well executed in presentation. Menu offers many interesting & unique items such as corn tempura with green tea sea salt. My favourites include: octopus carpaccio, beef tongue, & \u2026More", "great home made tofu", "It was a long wait (put my name down around 5:20, got seated around 6:20) but well worth the wait! The food was delicious, and service was quick. The restaurant is pretty small/crowded so it's easier to get a table if you're just in a party of 2.", "Great food. Friendly service and always gives you recommendations. At least $40 per person if you have reservation.", "Great Japanese tapa style restaurant. I love their skewers and fish, also better price then other comparable even inferior Japanese restaurants.", "Great food! Great Service. $40/min per person if you want to make a reservation, which is a lot of food as the prices are amazing for the quality. A bottle of sake will help get you there. I would recommend the reservation if you're not \u2026More", "Yummy food and great service. The space is not big and you can see they try to put up as many tables as they can in that little space. The price is a bit on a higher end but you can definitely experience a real izakaya style.", "Tasty, but pricy. You need to buy a lot since the dishes are just small bites. Don't get the snails, do get the fried corn.", "Show up early, order as much as you possibly can. Everything is amazing.", "Ordered 5 things: sashimi (5 types for $16), beef tongue skewers, and salmon/salmon roe/uni/crab donburi were 10s, easily. Ramen and squid were 7s, but we are quite the critics when it comes to those food items. \u2026More", "Wonderful food ...cozy ,Saki kampiiii!!", "Fantastic izakaya!  It was lots of fun to try out the variety of dishes and the food was superb, very fresh.  We had a reservation, which helps avoid the wait.  I don't ever write reviews but felt compelled to endorse this place.", "Great food, quick service, small intimate space.", "top notch quality food and service. my all time favorite!", "They have great corn tempuras. Ambience is nice and service is good.", "Overall fabulous experience!", "Very tiny space but experienced excellent food & services~", "Very nice homely warming restaurant environment & cooking2.. but restaurant is very small.. About 12 r13 tables..size of4/2.. Long waiting 4table.. Need2 get there early if Don't want2 waiting for table @least30mins.. 1hr or longer.. \u2026More", "Came here with someone from Tokyo. She said it's a very good izakaya place. Excellent food and service.", "A surprisingly good Izakaya style Japanese restaurant in Berkeley. Their skewers selection was limited to beef and fish, but their other dishes made up for it! Highlight for me was their special of the day grilled mackerel collar, was fatty and delicious!", "Chef'choice sashimi is the way to go!", "So good. Probably one of my favorite restaurants. Sashimi is melt in your mouth quality.", "Amazing!", "Wonderfully delicious small plates and Sake.  The corn fritters / tempura and grilled miso rice ball are great starters!", "Great for tapas, but a bit pricy. You have to spend at least $15 per person", "Live review: So far a 1 star because we have been waiting outside to get a table for 1.50 hours. I will report again when we eat.\nUp to 2 stars. We got a table and the toilet is celestial. \u2026More", "Everything I tasted was tasty and pretty. Small restaurant can accommodate 40 guests in store. Servers get customers moving for the line without being rude.", "Everything is wonderful and great. Even the service is wonderful. They were so polite and it looks very neat. But the only down side is that it takes some time to get the food and get a table.", "Wide selection of well-executed small plates. Everything we had was excellent, but I especially liked the tongue skewers and jumbo squid", "Get there about 30 min before opening and you'll most likely make it in first round. Favorite and best value izakaya!", "Fresh, well made Japanese tapas. Suzuki carpaccio and grilled squid were my top favorites. Be prepared to WAIT if you don't have a reservation,  but trust me,  the food is well worth the wait. Reservations require $40 min per person. Easily doable with drinks (super dry Asahi beer goes great with the meal).", "The food was really good! Would definitely be back for more.", "(Translated by Google) Delicious Luxury seureopjiman only blemish is an expensive one. \u2026More", "Great izakaya spot in Berkeley. Friendly staff. The wait can get a little long so get here early.", "love love love love this place! the best izakaya restaurant ever!! everything on their menu is great! do make a reservation, lines can be long weekdays and weekends! ", "I haven't been this happy in a while...", "Variety, price, and quality. Atmosphere is perf", "One of the best Japanese place I've ever been to. I've never had a disappointing experience here.", "One of the best Japanese restaurant, plenty of vegan and vegetarian options. A must try!", "The best Japanese gourmet restaurant! Long wait to get in but definitely worth it. Everything was beautifully plated and delicious. The miso soup was dark stock with clams in shells. Just go! ", "Everything was very tasty for me  but my friend said nasu miso and hatahata mirin yaki were too salty. great sake tasting menu.", "Truly great izakaya dining with every detail of the experience honed to unique perfection by the owners. Highly recommended.", "Delightful and delicious hidden gem. Every dish we tried was simply excellent. Fresh ingredients and ample selection of sake. ", "Our favourite local restaurant; this place never disappoints. Even though I don't drink, I love coming here to enjoy really delicious izakaya food in a cozy, welcoming environment. The menu specials change constantly so there's always new \u2026More", "They don't take reservations, and worth the wait. Our favorite: clam ramen! The broth was top notch.", "(Translated by Google) Cooking is also the best, service was the best. \u2026More", "Fantastic izakaya, though it can be quite busy. The clam and cilantro ramen is my favorite.", "This is a great izakaya. You can also go across the street to have some matcha ice cream while waiting for spots. ", "Prices are very high, but you get what you pay for. Wait was a bit long and seating was a little tight, but the food was worth it.", "\u201cGreat food\u201d\nGreat food, nice waitstaff, very helpful answering questions abut the food and wine. Service was fast, good, didn't feel rushed. Great garden to look at while eating. Easy to talk with the person you or with", "The food was wonderful with great portion size -not too big, not too small! Very attentive wait staff, selection was very good! Definitely going back.", "Very, very high quality - long, long waits without reservation and they have drink and spend minimums for reservations. Highly recommended - probably my favorite Japanese restaurant outside of Japan.", "The menu is eclectic Japanese with equal parts variety and deliciousness. Try the Blue Fin Collar if they have any left", "Great Japanese izakaya comfort food. Loved all the dishes that came out, and want to try the rest in the future. Service was a bit slower but understandable seeing how busy they were.", "Fun, unique and tasty! ", "Finally we got to enjoy this restaurant after some prior year cancellations. This restaurant did not disappoint. Last night's pris fixe included yellowtail jack carpaccio, potato gnocchi with black truffles, and grilled farm lamb rack, loin \u2026More", "The breakfast is very good, the service is fast and friendly and the value is very good. The casual family friendly atmosphere made the experience nicer.", "this place has been consistently the best place to buy fish. it's very fresh, the selection is incredible, and the staff are very knowledgeable and helpful. i can't buy fish from anywhere else.", "A great place for a special occasion or business lunch (or both!), this has a lively atmosphere, wood craftsman-style furnishings. Food is pricy as expected, but the wine list offers some reasonably priced options.", "Finally we got to enjoy this restaurant after some prior year cancellations. This restaurant did not disappoint. Last night's pris fixe included yellowtail jack carpaccio, potato gnocchi with black truffles, and grilled farm lamb rack, loin \u2026More", "Great izakaya. Most people don't seem to know, but you are supposed to eat tasty appetizer type food and drink alcohol at izakayas. That's why the food is small portioned and goes well with beer or sake. ", "Great sushi.", "Phenomenonal food! Mind blowing flavors! Great service!!", "Very authentic. Great beef sirloin skewer. Friendly and fast service. Highly recommend as a go to place.", "Awesome", "Food was nice and interesting, great service. Wait was very long so...", "The sushi here us fantastic; the fish is very fresh. Additionally, they have very good Japanese small plates. ", "Great japanese small dishes", "Great Japanese place for sharing small plates. Expect to wait to get in.", "Everything is simple and delicious. Finally happy to say there is an authentic Izakaya in the Bay Area since moving back from Japan. ", "Incredible food and a cozy setting that actually made me forget I was on Telegraph Avenue. It can get pretty crowded, so it's usually good to show up early and get your name on the list.", "Absolutely exceptional izakaya! The dining room may be small and seem unremarkable, but what comes out of the kitchen is pure magic. The menu is extremely varied and it feels like you can make no bad choice. \u2026More", "Best izakaya in the area", "best izakaya in the bay! must have reservation or the wait will be ridiculous. better food than gochi or tanto. creative yet authentic. small place, friendly staff, funny chef.", "My personal favorite izakaya in the Bay. The pork kakuni literally melts in your mouth (I see this phrase way too much and find it very rarely to be true) and blasts you with a strong kick of sweet soy. Sashimi here's always top notch. Some of the best karaage this side of the world. Well made, authentic Japanese tapas. Go here.", "Probably the best Japanese food in Berkeley, so it's worth going at least once. While the dishes taste amazing, they can be pricey with smaller portion sizes. Make sure to put your name down early because lines start 30 minutes before opening.", "5 star food. 3 star Sevice. 1 star reception.\nGreat food! Very very innovative.\nHowever don't believe if there anyone work at the restaurant telling you there \u2026More", "Awsome japanese traditional meal....", "One of my most favorite meals ever", "Their foods are amazing. Get the yaki udon!", "The wait is worth it! Peppery ramen reminiscent of Tokyo and the squid and karaage all the same. Lots of dishes at excellent prices, and brought my back to my time in Japan!", "This place is delicious! I came here with two of my friends and we pretty much just went down the menu and tried to order at least one of everything. We ordered: uni and ikura spoons, takowasabi, corn tempura, kiraku salad, buta kim, \u2026More", "This place is great for groups. Just order a handful of items and eat until full.", "The wait can get downright ridiculous. The food, however, is really good and exactly what you're looking for when you want some traditional Japanese food. \u2026More", "Decent sushi location but pretty overpriced. Good seating inside but can get crowded during dinner time, so I recommend making a reservation ahead of time.", "Beautiful gem in Berkeley for authentic Japanese tapas!!! I'm regret for knowing this place so late :( \u2026More", "A good and adventurous menu of Japanese food near Berkeley. Good sake, tasty food you probably haven't tried before, and good service. Seems to generally be very crowded, so aim for weeknights.", "I stopped going to other izakaya places after my first visit. I always ask the owners/chef to prepare anything fresh and tasty for us and I have yet to be disappointed. From their sake selection, delectably fresh cuts of sashimi and the A5 Miyazaki Wagyu - you don't need to be anywhere else.", "Really good izakaya style japanese tapas restaurant. Expect a line, though the host is really nice at accommodating and turning tables around quick. We tried a few items that were amazing, including the corn tempura. The chicken karaage and \u2026More", "Every dish I tried has been great, and I've been to this restaurant for 3-4 times.  The price is more approachable than the other well known izakaya place at Berkeley.  Don't bother order the kobe beef though, I didn't think it was worth \u2026More", "Great, authentic Japanese restaurant", "Take the right place !", "Kiraku is one of the most exciting and innovative Japanese restaurants in the Bay Area. It's completely unassuming and the decor is pretty plain, but you can instantly tell from the constantly out-the-door lines that there's something \u2026More", "Best Japanese tapas in Berkeley.  Get the beef tongue, agedashi tofu, Japanese eggplant, and sirloin beef.  Just the right enough flavors. \u2026More", "This is a small restaurant that seems to be pretty popular, so expect a wait at peak times.  We loved it, though.  We ordered lots of small dishes, and everything we tried was excellent and unique.  We especially loved the home made tofu.", "Super bon", "From the minute we walked in the door we were welcomed and enjoyed great service and excellent suggestions. Salmon spring roll was Amazing!", "This place is the real deal. Made me feel like I was back in Tokyo. Drinking and Good food. It's an Izakaya so don't go unless you have at least 4 people otherwise you won't be able to order enough variety.", "Everything here was delicious! Chef has french influence and shows on the menu. Fish is fresh and very well prepared. Tapas style, no sushi. Definitely the best Japanese restaurant in Berkeley (and beyond?)."], "negative": ["always the best flavor.  carpaccio is amazing. and fried eggplant with.miso.   also the salmon collar.  such great flavors.  wait can be crazy since they don't take reservations unless you commit to $42 per person.  be prepared to wait or \u2026More", "I was served day-old rice and hard, I showed it to him and he touched the rice and then he wiped it on my shoulder he wiped his dirty hands on my shoulder in his act of showing me how little he respected the fact that the rice was old so I \u2026More", "Nice beer but food. portion is smal and pricey", "Small portions for an expensive price. I understand te whole tapas thing but they cant expect people to pay outrageous prices for such tiny portions.", "I'm probably outing myself here, but I was too irritated by the ridiculous wait to really know if I enjoyed the food that much. So take this with a grain of salt. \u2026More", "I thought the food was okay, but Ippuku is much better. Our group of four was asked to leave before our dessert drinks were done to make room for another party. There were 3 open tables in the restaurant and it was a Tuesday night. Extremely rude.", "I wanted to like this place because the servers were really nice, but the majority of the food was just mediocre. Not surprising considering they have over 60 dishes to choose from. Really the only good dish was the salmon collar and it was \u2026More", "Charging 4.5% extra for credit card? You gotta be kidding me. Food is fine but the bill is skyrocketing and the service is extremely unfriendly (unless you are Japanese)", "They asked us to leave as soon as we paid! Incredibly over rated. Food is just average with some items just plain disappointing. The squid that most people feature on their pictures, was way overcooked. But the worst part is the terrible \u2026More", "Imposible entrar!!", "Are you kidding me? Kiraku charged extra 4.5% of the bill plus tips without notifying any customer. There is no sign on menu, no sign on the waiting list, but only a tiny sign on the back of the restroom door. You gotta go to the restroom \u2026More", "I only gave this hole one star because I had to in order to review.  Should be zero.....2 hours waiting and no seating. \nThis review is a further  waste of my time.\nNo place is worth that wait .... no where !!", "Overpriced", "Maybe too much expectation", "Wasn't crazy for the food or prices, but the service there was jovial and attentive, especially for how busy it was.", "fg", "Had a bad experience at Kiraku.  Arrived there at 6:45 and saw a few names in the waiting list.  The host said the wait should be about 20 minutes and maximum 30 minutes.  However, parties with reservations kept coming and the line moved \u2026More", "Positives: a few of the dishes are very well executed, quite creative and tasty. The service is friendly and hospitable.  Negatives: terribly ventilated -- expect to smell of grilled fatty fish when you exit. Ridiculously crowded, too many \u2026More", "First, you need to wait for a very long time. Second, the noodles which names ramen is instant noddles with the soup that only has salt and oil. Oh, Js, I will never come here.", "Long wait, limited menu.\n3 stars because I never actually got in.", "Ok, I must have really high expectations when it comes to sushi... Well I guess being Vancouver kind of does that for you (for those of you who don't know, Vancouver is sort of like the Sushi capital of North America). Yes, in the freezing \u2026More", "Weak", "love their appetizers. try their duck dish!"]
}

var pos_fd = [
  {"word": "food", "count": 57},
  {"word": "great", "count": 51},
  {"word": "japanese", "count": 41},
  {"word": "place", "count": 38},
  {"word": "restaurant", "count": 32},
  {"word": "wait", "count": 30},
  {"word": "good", "count": 30},
  {"word": "izakaya", "count": 28},
  {"word": "service", "count": 28},
  {"word": "get", "count": 26}
];

var neg_fd = [
  {"word": "wait", "count": 7},
  {"word": "food", "count": 7},
  {"word": "really", "count": 4},
  {"word": "rice", "count": 3},
  {"word": "much", "count": 3},
  {"word": "service", "count": 3},
  {"word": "sign", "count": 3},
  {"word": "waiting", "count": 3},
  {"word": "salmon", "count": 2},
  {"word": "collar", "count": 2}
];

//this is yelp data
var yelp_pos_fq = [
  {"word": "good", "count": 789},
  {"word": "food", "count": 734},
  {"word": "place", "count": 622},
  {"word": "like", "count": 487},
  {"word": "wait", "count": 472},
  {"word": "beef", "count": 455},
  {"word": "japanese", "count": 452},
  {"word": "5", "count": 452},
  {"word": "corn", "count": 441},
  {"word": "really", "count": 424}
];

var yelp_neg_fq = [
  {"word": "food", "count": 160},
  {"word": "good", "count": 117},
  {"word": "place", "count": 100},
  {"word": "us", "count": 92},
  {"word": "like", "count": 80},
  {"word": "service", "count": 77},
  {"word": "would", "count": 67},
  {"word": "time", "count": 65},
  {"word": "one", "count": 65},
  {"word": "kiraku", "count": 63}
];

// this is for yelp frequency
var yelp_positive_freq_words = yelp_pos_fq.map(function(e){
  return e.word;
});

var yelp_negative_freq_words = yelp_neg_fq.map(function(e){
  return e.word;
});

var yelp_pos_freq_data = yelp_pos_fq.map(function(e){
  return e.count;
});

var yelp_neg_freq_data = yelp_neg_fq.map(function(e){
  return e.count;
});

// this is for google frequency
var negative_freq_words = neg_fd.map(function(e){
  return e.word;
});

var negative_freq_words_count = neg_fd.map(function(e){
  return e.count;
});

var positive_freq_words = pos_fd.map(function(e){
  return e.word;
});

var positive_freq_words_count = pos_fd.map(function(e){
  return e.count;
})

var p_texts = json_data.positive;
var n_texts = json_data.negative;

var p_scrollbox = document.getElementsByClassName("p_scrollbox")[0];
for(var i = 0; i < p_texts.length; i++){
  var newElement = document.createElement('div');
  newElement.setAttribute('id', 'p_borderDemo');
  newElement.innerHTML = "\""+p_texts[i]+"\"";
  p_scrollbox.appendChild(newElement);
}

var n_scrollbox = document.getElementsByClassName("n_scrollbox")[0];
for(var i = 0; i < n_texts.length; i++){
  var newElement = document.createElement('div');
  newElement.setAttribute('id', 'n_borderDemo');
  newElement.innerHTML = "\""+n_texts[i]+"\"";
  //newElement.style.display = "none";
  //if(i > 20){
  //  newElement.style.display = "none";
  //}
  n_scrollbox.appendChild(newElement);
}


function filterThrough_Pos(){
  var children = p_scrollbox.children;
  var text_input = document.getElementsByTagName("input")[0];

  //reset everything before changes..
  for(var i = 0; i < children.length; i++){
    children[i].style.display = "none";
    children[i].innerHTML = children[i].innerText;
  }

  if(text_input.value != ""){
    //console.log("see the text value");
    for(var i = 0; i < children.length; i++){
      //regular expression to clear them out..
      var res = new RegExp(text_input.value).test(children[i].innerHTML)

      if(!res){
        children[i].style.display = "none";
      }else{
        var text = children[i].innerHTML;
        text = text.replace(text_input.value, '<span class="highlight">'+text_input.value+'</span>');
        children[i].innerHTML = text;
        children[i].style.display = "block";
      }
    }
  }else{
    for(var i = 0; i < children.length; i++){
      children[i].style.display = "block";
    }
  }
}

function filterThrough_Neg(){
  var children = n_scrollbox.children;
  var text_input = document.getElementsByTagName("input")[1];

  for(var i = 0; i < children.length; i++){
    children[i].style.display = "none";
    children[i].innerHTML = children[i].innerText;
  }

  if(text_input.value != ""){
    //console.log("see the text value");
    for(var i = 0; i < children.length; i++){
      //regular expression to clear them out..
      var res = new RegExp(text_input.value).test(children[i].innerHTML)
      //children[i].innerHTML.match(text_input.value);
      if(!res){
        children[i].style.display = "none";
        //p_scrollbox.removeChild(children[i]);
      }else{
        var text = children[i].innerHTML;
        text = text.replace(text_input.value, '<span class="highlight">'+text_input.value+'</span>');
        children[i].innerHTML = text;
        children[i].style.display = "block";
      }
    }
  }else{
    for(var i = 0; i < children.length; i++){
      children[i].style.display = "block";
    }
  }
}

//this is google data
var regNeg_bar = document.getElementById("regNegBar");
var regPos_bar = document.getElementById("regPosBar");

//this is yelp data
var reg_yelp_neg_bar = document.getElementById("yelpNegBar");
var reg_yelp_pos_bar = document.getElementById("yelpPosBar");

//this is the setup for regular bar
var reg_neg_bar_config = {
  type: 'bar',
  data: {
    labels: negative_freq_words,
    datasets: [{
      label: "# of Words in Negative Comments",
      data: negative_freq_words_count,
      backgroundColor: [
            'rgba(219, 50, 54, 1)',
            'rgba(219, 50, 54, 0.9)',
            'rgba(219, 50, 54, 0.8)',
            'rgba(219, 50, 54, 0.7)',
            'rgba(219, 50, 54, 0.6)',
            'rgba(219, 50, 54, 0.5)',
            'rgba(219, 50, 54, 0.4)',
            'rgba(219, 50, 54, 0.3)',
            'rgba(219, 50, 54, 0.2)',
            'rgba(219, 50, 54, 0.1)'
      ]
    }],
  },
  options: {
    scales: {
      yAxes: [{
        ticks: {
          beginAtZero: true
        }
      }]
    }
  }
};

var reg_pos_bar_config = {
  type: 'bar',
  data: {
    labels: positive_freq_words,
    datasets: [{
      label: "# of Words in Positive Comments",
      data: positive_freq_words_count,
      backgroundColor: [
            'rgba(54, 162, 235, 1)',
            'rgba(54, 162, 235, 0.9)',
            'rgba(54, 162, 235, 0.8)',
            'rgba(54, 162, 235, 0.7)',
            'rgba(54, 162, 235, 0.6)',
            'rgba(54, 162, 235, 0.5)',
            'rgba(54, 162, 235, 0.4)',
            'rgba(54, 162, 235, 0.3)',
            'rgba(54, 162, 235, 0.2)',
            'rgba(54, 162, 235, 0.1)'
      ]
    }]
  },
  options: {
    scales: {
      yAxes: [{
        ticks: {
          beginAtZero: true
        }
      }]
    }
  }
};

//this is the setup for yelp
var yelp_reg_neg_bar_config = {
  type: 'bar',
  data: {
    labels: yelp_negative_freq_words,
    datasets: [{
      label: "# of Words in Negative Comments",
      data: yelp_neg_freq_data,
      backgroundColor: [
          'rgba(219, 50, 54, 1)',
          'rgba(219, 50, 54, 0.9)',
          'rgba(219, 50, 54, 0.8)',
          'rgba(219, 50, 54, 0.7)',
          'rgba(219, 50, 54, 0.6)',
          'rgba(219, 50, 54, 0.5)',
          'rgba(219, 50, 54, 0.4)',
          'rgba(219, 50, 54, 0.3)',
          'rgba(219, 50, 54, 0.2)',
          'rgba(219, 50, 54, 0.1)'
      ]
    }],
  },
  options: {
    scales: {
      yAxes: [{
        ticks: {
          beginAtZero: true
        }
      }]
    }
  }
};

var yelp_reg_pos_bar_config = {
  type: 'bar',
  data: {
    labels: yelp_positive_freq_words,
    datasets: [{
      label: "# of Words in Positive Comments",
      data: yelp_pos_freq_data,
      backgroundColor: [
            'rgba(54, 162, 235, 1)',
            'rgba(54, 162, 235, 0.9)',
            'rgba(54, 162, 235, 0.8)',
            'rgba(54, 162, 235, 0.7)',
            'rgba(54, 162, 235, 0.6)',
            'rgba(54, 162, 235, 0.5)',
            'rgba(54, 162, 235, 0.4)',
            'rgba(54, 162, 235, 0.3)',
            'rgba(54, 162, 235, 0.2)',
            'rgba(54, 162, 235, 0.1)'
      ]
    }]
  },
  options: {
    scales: {
      yAxes: [{
        ticks: {
          beginAtZero: true
        }
      }]
    }
  }
};

//this is the setup for frequency in regular bar
var rgNegFreqBar = new Chart(regNeg_bar, reg_neg_bar_config);
var rgPosFreqBar = new Chart(regPos_bar, reg_pos_bar_config);

//this is the setup for frequency in yelp.
var ypNegFreqBar = new Chart(reg_yelp_neg_bar, yelp_reg_neg_bar_config);
var ypPosFreqBar = new Chart(reg_yelp_pos_bar, yelp_reg_pos_bar_config);

//starting here is for the number frequency trend
var trend_pos_freq_raw =
{"0 years ago": {"really": 35, "good": 69, "food": 74, "japanese": 34, "5": 61, "place": 47, "wait": 48, "like": 43, "beef": 58, "corn": 33},
"1 years ago": {"place": 67, "japanese": 50, "food": 83, "beef": 71, "5": 65, "like": 44, "really": 44, "corn": 52, "wait": 71, "good": 80},
"2 years ago": {"japanese": 65, "place": 94, "good": 108, "5": 83, "wait": 103, "food": 112, "beef": 92, "like": 80, "corn": 66, "really": 49},
"3 years ago": {"corn": 61, "beef": 63, "good": 101, "food": 92, "place": 60, "like": 56, "wait": 74, "really": 41, "5": 34, "japanese": 47},
"4 years ago": {"place": 78, "corn": 57, "beef": 69, "good": 81, "really": 53, "japanese": 52, "food": 86, "like": 64, "wait": 79, "5": 48},
"5 years ago": {"wait": 65, "like": 84, "good": 133, "food": 101, "really": 85, "beef": 65, "corn": 60, "japanese": 67, "place": 112, "5": 71},
"6 years ago": {"japanese": 44, "corn": 55, "beef": 31, "good": 76, "place": 62, "food": 59, "really": 33, "wait": 11, "5": 64, "like": 44},
"7 years ago": {"corn": 40, "food": 63, "good": 95, "like": 53, "wait": 14, "japanese": 52, "really": 62, "5": 23, "place": 71, "beef": 5},
"8 years ago": {"japanese": 41, "like": 19, "good": 46, "food": 64, "really": 22, "place": 31, "corn": 17, "5": 3, "wait": 7, "beef": 1}
};

var trend_neg_freq_raw =
{"0 years ago": {"service": 9, "us": 18, "good": 13, "food": 19, "kiraku": 6, "like": 8, "would": 6, "time": 6, "place": 8, "one": 8},
"1 years ago": {"time": 4, "food": 13, "good": 8, "place": 10, "would": 3, "kiraku": 4, "like": 6, "service": 4, "us": 5, "one": 2},
"2 years ago": {"food": 29, "good": 16, "time": 9, "service": 12, "would": 8, "kiraku": 8, "us": 12, "place": 16, "one": 8, "like": 10},
"3 years ago": {"food": 12, "service": 9, "us": 5, "good": 6, "like": 5, "would": 7, "time": 10, "place": 6, "kiraku": 3, "one": 2},
"4 years ago": {"kiraku": 11, "time": 16, "one": 19, "would": 16, "good": 14, "service": 15, "food": 26, "us": 20, "place": 10, "like": 9},
"5 years ago": {"like": 10, "kiraku": 14, "food": 18, "good": 11, "service": 7, "would": 9, "time": 7, "place": 8, "us": 9, "one": 2},
"6 years ago": {"place": 18, "service": 9, "time": 11, "us": 11, "good": 22, "would": 5, "like": 17, "one": 15, "kiraku": 9, "food": 16},
"7 years ago": {"place": 17, "like": 11, "good": 17, "food": 22, "one": 6, "kiraku": 6, "us": 11, "service": 8, "would": 10, "time": 2},
"8 years ago": {"food": 5, "good": 10, "place": 7, "kiraku": 2, "one": 3, "would": 3, "service": 4, "like": 4, "us": 1}
};

var freq_x_labels = [];
var pos_freq_y_data = {};
var neg_freq_y_data = {};
var keywords = [];

//console.log(yelp_positive_freq_words);

for (var key in trend_pos_freq_raw){
  freq_x_labels.push(key);
}
freq_x_labels = freq_x_labels.reverse();

for(var i = 0; i < freq_x_labels.length; i++){
  var key = freq_x_labels[i];
  var temp_dict = trend_pos_freq_raw[key];
  for(var i1 = 0; i1 < yelp_positive_freq_words.length; i1++){
    var word = yelp_positive_freq_words[i1];
    if(word in pos_freq_y_data){
      pos_freq_y_data[word].push(temp_dict[word]);
    }
    else{
      pos_freq_y_data[word] = [temp_dict[word]];
    }
  }
}

for(var i = 0; i < freq_x_labels.length; i++){
  var key = freq_x_labels[i];
  var temp_dict = trend_neg_freq_raw[key];
  for( var i1 = 0; i1 < yelp_negative_freq_words.length; i1++){
    var word = yelp_negative_freq_words[i1];
    if(word in neg_freq_y_data){
      neg_freq_y_data[word].push(temp_dict[word]);
    }else{
      neg_freq_y_data[word] = [temp_dict[word]];
    }
  }
}

//this is yelp data with freq trend
var pos_freq_trend = document.getElementById("freqPosBar");
var neg_freq_trend = document.getElementById("freqNegBar");

var pos_trend_line_config = {
  type: 'line',
  data: {
    labels: freq_x_labels,
    datasets: [{
      label: yelp_positive_freq_words[0],
      borderColor: "Red",
      fill: false,
      data: pos_freq_y_data[yelp_positive_freq_words[0]]
    },{
      label: yelp_positive_freq_words[1],
      borderColor: "Yellow",
      fill: false,
      data: pos_freq_y_data[yelp_positive_freq_words[1]]
    },{
      label: yelp_positive_freq_words[2],
      borderColor: "Orange",
      fill: false,
      data: pos_freq_y_data[yelp_positive_freq_words[2]]
    },{
      label: yelp_positive_freq_words[3],
      borderColor: "grey",
      fill: false,
      data: pos_freq_y_data[yelp_positive_freq_words[3]]
    },{
      label: yelp_positive_freq_words[4],
      borderColor: "blue",
      fill: false,
      data: pos_freq_y_data[yelp_positive_freq_words[4]]
    },{
      label: yelp_positive_freq_words[5],
      borderColor: "purple",
      fill: false,
      data: pos_freq_y_data[yelp_positive_freq_words[5]]
    },{
      label: yelp_positive_freq_words[6],
      borderColor: "aqua",
      fill: false,
      data: pos_freq_y_data[yelp_positive_freq_words[6]]
    },{
      label: yelp_positive_freq_words[7],
      borderColor: "teal",
      fill: false,
      data: pos_freq_y_data[yelp_positive_freq_words[7]]
    },{
      label: yelp_positive_freq_words[8],
      borderColor: "fuchsia",
      fill: false,
      data: pos_freq_y_data[yelp_positive_freq_words[8]]
    },{
      label: yelp_positive_freq_words[9],
      borderColor: "maroon",
      fill: false,
      data: pos_freq_y_data[yelp_positive_freq_words[9]]
    }]
  }
};

var neg_trend_line_config = {
  type: 'line',
  data: {
    labels: freq_x_labels,
    datasets: [{
      label: yelp_negative_freq_words[0],
      borderColor: "Red",
      fill: false,
      data: neg_freq_y_data[yelp_negative_freq_words[0]]
    },{
      label: yelp_negative_freq_words[1],
      borderColor: "Yellow",
      fill: false,
      data: neg_freq_y_data[yelp_negative_freq_words[1]]
    },{
      label: yelp_negative_freq_words[2],
      borderColor: "Orange",
      fill: false,
      data: neg_freq_y_data[yelp_negative_freq_words[2]]
    },{
      label: yelp_negative_freq_words[3],
      borderColor: "grey",
      fill: false,
      data: neg_freq_y_data[yelp_negative_freq_words[3]]
    },{
      label: yelp_negative_freq_words[4],
      borderColor: "blue",
      fill: false,
      data: neg_freq_y_data[yelp_negative_freq_words[4]]
    },{
      label: yelp_negative_freq_words[5],
      borderColor: "purple",
      fill: false,
      data: neg_freq_y_data[yelp_negative_freq_words[5]]
    },{
      label: yelp_negative_freq_words[6],
      borderColor: "aqua",
      fill: false,
      data: neg_freq_y_data[yelp_negative_freq_words[6]]
    },{
      label: yelp_negative_freq_words[7],
      borderColor: "teal",
      fill: false,
      data: neg_freq_y_data[yelp_negative_freq_words[7]]
    },{
      label: yelp_negative_freq_words[8],
      borderColor: "fuchsia",
      fill: false,
      data: neg_freq_y_data[yelp_negative_freq_words[8]]
    },{
      label: yelp_negative_freq_words[9],
      borderColor: "maroon",
      fill: false,
      data: neg_freq_y_data[yelp_negative_freq_words[9]]
    }]
  }
};

var draw_pos_freq_trend = new Chart(pos_freq_trend, pos_trend_line_config);
var draw_neg_freq_trend = new Chart(neg_freq_trend, neg_trend_line_config);
